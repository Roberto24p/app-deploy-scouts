"use strict";(globalThis["webpackChunktesis_scout_front"]=globalThis["webpackChunktesis_scout_front"]||[]).push([[994],{1994:(e,l,a)=>{a.r(l),a.d(l,{default:()=>nl});var o=a(3673),s=a(2323),t=a(8880),n=a(1959),i=a(8219),r=a(386),c=a(279),m=a(4332),d=a(9582),u=a(8825);const p=e=>((0,o.dD)("data-v-133d369e"),e=e(),(0,o.Cn)(),e),g=p((()=>(0,o._)("div",{class:"text-h6"},"Imagen",-1))),_=p((()=>(0,o._)("div",{class:"absolute-top text-center"}," Paga ",-1))),v=p((()=>(0,o._)("div",{class:"text-h6"},"Observaciones",-1))),w={class:"q-pa-md"},h={class:"row q-col-gutter-md"},f={class:"col-12"},b=p((()=>(0,o._)("p",null," Tus Datos de Inscripción ",-1))),y={class:"row q-pa-md"},x={class:"col-6 q-mb-lg"},k={class:"text-h5",style:{"text-transform":"capitalize"}},q=p((()=>(0,o._)("strong",null,"Estado: ",-1))),P={class:"col-6 q-mb-lg"},I={class:"text-h5"},W=p((()=>(0,o._)("strong",null,"Nombre: ",-1))),U={class:"col-6 q-mb-lg"},z={class:"text-h5"},C=p((()=>(0,o._)("strong",null,"Apellido: ",-1))),N={class:"col-6 q-mb-lg"},Z={class:"text-h5"},D=p((()=>(0,o._)("strong",null,"Cédula: ",-1))),V={class:"col-6 q-mb-lg"},S={class:"text-h5"},T=p((()=>(0,o._)("strong",null,"Nacimiento: ",-1))),H={class:"col-6 q-mb-lg"},F={class:"text-h5"},Q=p((()=>(0,o._)("strong",null,"Tipo de Sangre: ",-1))),G={class:"col-6 q-mb-lg"},B={class:"text-h5"},j=p((()=>(0,o._)("strong",null,"Nacionalidad: ",-1))),Y={class:"col-6 q-mb-lg"},A={class:"text-h5"},O=p((()=>(0,o._)("strong",null,"Género: ",-1))),E=(0,o.Uk)(" Hombre"),M=p((()=>(0,o._)("strong",null,"Género: ",-1))),R=(0,o.Uk)(" Mujer"),$={class:"col-6 q-mb-lg"},K={class:"text-h5"},J=p((()=>(0,o._)("strong",null,"Teléfono: ",-1))),L={class:"text-h5"},X={style:{display:"inline","font-size":"25px"}},ee=p((()=>(0,o._)("strong",{class:""},"Grupo: ",-1))),le={class:"row q-pa-md"},ae={class:"col-6 q-mb-lg"},oe={class:"text-h5",style:{"text-transform":"capitalize"}},se=p((()=>(0,o._)("strong",null,"Estado: ",-1))),te={class:"col-6 q-mb-lg"},ne={class:"text-h5"},ie=p((()=>(0,o._)("strong",null,"Nombre: ",-1))),re={class:"col-6 q-mb-lg"},ce={class:"text-h5"},me=p((()=>(0,o._)("strong",null,"Apellido: ",-1))),de={class:"col-6 q-mb-lg"},ue={class:"text-h5"},pe=p((()=>(0,o._)("strong",null,"Cédula: ",-1))),ge={class:"col-6 q-mb-lg"},_e={class:"text-h5"},ve=p((()=>(0,o._)("strong",null,"Nacimiento: ",-1))),we={class:"col-6 q-mb-lg"},he={class:"text-h5"},fe=p((()=>(0,o._)("strong",null,"Tipo de Sangre: ",-1))),be={class:"col-6 q-mb-lg"},ye={class:"text-h5"},xe=p((()=>(0,o._)("strong",null,"Nacionalidad: ",-1))),ke={class:"col-6 q-mb-lg"},qe={class:"text-h5"},Pe=p((()=>(0,o._)("strong",null,"Género: ",-1))),Ie=(0,o.Uk)(" Hombre"),We=p((()=>(0,o._)("strong",null,"Género: ",-1))),Ue=(0,o.Uk)(" Mujer"),ze={class:"col-6 q-mb-lg"},Ce={class:"text-h5"},Ne=p((()=>(0,o._)("strong",null,"Teléfono: ",-1))),Ze={class:"col-6 q-mb-lg"},De={class:"text-h5 row"},Ve=p((()=>(0,o._)("strong",{class:"col-3"},"Grupo: ",-1))),Se={class:"col-6 q-mb-lg"},Te={class:"text-h5 row"},He=(0,o.Uk)("Observaciones"),Fe=p((()=>(0,o._)("p",{class:"text-center",style:{"font-size":"15px"}},"No olvides subir tus imagenes",-1))),Qe={class:"row col-12 justify-evenly"},Ge=(0,o.Uk)("Ver Permiso"),Be=(0,o.Uk)("Ver Paga"),je=(0,o.Uk)("Ver Foto"),Ye={__name:"InscriptionScout",setup(e){const l=(0,n.iH)(!1),a=(0,n.iH)(""),p=(0,n.iH)("Selecciona un documento"),Ye=["Paga","Fotos","Permiso"],Ae=(0,n.iH)(!1),Oe=(0,d.tv)(),Ee=(0,n.qj)({name:"",lastName:"",dni:"",bornDate:"",typeBlood:"",phone:"",email:"",image:"",nacionality:"",gender:"",group:"Selecciona un Grupo",status:"No enviada",imagePay:"",imagePermission:"",imagePhoto:"",observations:"No hay ninguna observación",groupName:""}),Me=(0,n.qj)({start:"",end:""}),Re=(0,u.Z)(),$e=(0,n.iH)(!1),Ke=()=>{i.Z.getInscriptionInfo().then((e=>{console.log(e.statusInscription),$e.value=null!=e.statusInscription,null!=e.statusInscription&&($e.value="denegado"!=e.statusInscription.state_inscription,Ee.status=e.statusInscription.state_inscription,Ee.group=e.statusInscription.group_id,Ee.groupName=e.statusInscription.name,Ee.observations=e.statusInscription.observations,Ee.imagePay=e.statusInscription.image_pay,Ee.imagePermission=e.statusInscription.image_permission,Ee.imagePhoto=e.statusInscription.image_photo,console.log(e.statusInscription.group_id)),Ee.name=e.personalInfo.name,Ee.lastName=e.personalInfo.last_name,Ee.nacionality=e.personalInfo.nacionality,Ee.typeBlood=e.personalInfo.type_blood,Ee.bornDate=e.personalInfo.born_date,Ee.dni=e.personalInfo.dni,Ee.phone=e.personalInfo.phone,Ee.gender=e.personalInfo.gender,Ee.email=e.personalInfo.user.email,""!=Ee.name&&""!=Ee.lastName&&""!=Ee.nacionality&&""!=Ee.typeBlood&&""!=Ee.dni&&""!=Ee.phone&&""!=Ee.gender&&""!=Ee.email||(Re.dialog({title:"¡Completa tus datos personales!",message:"Redirigiendo ",persistent:!0}),setTimeout((()=>{Oe.push({name:"Profile"})}),100))}))},Je=(0,n.iH)([]);r.Z.getGroups().then((e=>{console.log(e),Je.value=e}));const Le=()=>{if(""==Ee.imagePay||""==Ee.imagePermission||""==Ee.imagePhoto)return console.log(Ee.imagePay),console.log(Ee.imagePermission),console.log(Ee.imagePhoto),Re.notify({type:"negative",message:"Sube las imagenes",timeout:2e3}),0;c.Z.registerInscription(Ee).then((e=>{console.log(1==e.success),1==e.success?($e.value=!0,Ee.status="espera",Re.notify({type:"positive",message:"Inscripcion enviada correctamente"})):Re.notify({type:"negative",message:"Error enviando Inscripcion"})}))},Xe=e=>{Oe.push(e)},el=e=>new Promise(((e,l)=>{const a=localStorage.getItem("token");e({url:"http://157.245.142.215/api-scouts/public/api/file",method:"POST",headers:[{name:"Authorization",value:`Bearer ${a}`}]})})),ll=e=>new Promise(((e,l)=>{const a=localStorage.getItem("token");e({url:"http://157.245.142.215/api-scouts/public/api/filePay",method:"POST",headers:[{name:"Authorization",value:`Bearer ${a}`}]})})),al=()=>{m.Z.getPeriod().then((e=>{const l=new Date(e.response.date_start),a=new Date(e.response.date_end),o=new Date;console.log(l),console.log(o),console.log(a),l<o&&a>o||(Re.dialog({title:"¡No es tiempo de inscripciones!",message:"Redirigiendo...",persistent:!0}),setTimeout((()=>{Oe.push({name:"Profile"})}),100)),console.log(e.response.description),Me.start=l.getFullYear(),Me.end=a.getFullYear(),console.log(e.response)}))},ol=e=>{"Permiso"==p.value?Ee.imagePermission=e.xhr.response:"Paga"==p.value?Ee.imagePay=e.xhr.response:Ee.imagePhoto=e.xhr.response,console.log(e.xhr.response)},sl=e=>{console.log(e),a.value=e,l.value=!0};return(0,o.bv)((()=>{al(),Ke()})),(e,n)=>{const i=(0,o.up)("q-card-section"),r=(0,o.up)("q-img"),c=(0,o.up)("q-card"),m=(0,o.up)("q-dialog"),d=(0,o.up)("q-btn"),u=(0,o.up)("q-card-actions"),Oe=(0,o.up)("q-item-section"),Re=(0,o.up)("q-item"),Ke=(0,o.up)("q-separator"),al=(0,o.up)("q-select"),tl=(0,o.up)("q-uploader"),nl=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{style:{width:"700px","max-width":"80vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[g])),_:1}),(0,o.Wm)(i,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{src:a.value,"no-native-menu":""},{default:(0,o.w5)((()=>[_])),_:1},8,["src"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(m,{modelValue:Ae.value,"onUpdate:modelValue":n[1]||(n[1]=e=>Ae.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[v])),_:1}),(0,o.Wm)(i,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(Ee.observations),1)])),_:1}),(0,o.Wm)(u,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(d,{flat:"",label:"OK",color:"primary"},null,512),[[nl]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o._)("div",w,[(0,o._)("div",h,[(0,o._)("div",f,[(0,o.Wm)(c,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(Re,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Oe,null,{default:(0,o.w5)((()=>[b])),_:1}),(0,o.Wm)(Oe,null,{default:(0,o.w5)((()=>[(0,o._)("p",null," Periodo: "+(0,s.zw)(Me.start)+" - "+(0,s.zw)(Me.end),1)])),_:1}),(0,o.Wm)(Oe,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{color:"primary",label:"Perfil",flat:"",onClick:n[2]||(n[2]=e=>Xe("/profile"))})])),_:1})])),_:1})])),_:1})]),(0,o._)("div",{class:(0,s.C_)(["col-8",{"col-12":$e.value}])},[$e.value?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"my-card q-py-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(Ke),(0,o.Wm)(Ke),(0,o._)("div",y,[(0,o._)("div",x,[(0,o._)("div",k,[q,(0,o.Wm)(d,{color:"confirmado"==Ee.status?"green":"espera"==Ee.status?"warning":"negative"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(Ee.status),1)])),_:1},8,["color"])])]),(0,o._)("div",P,[(0,o._)("div",I,[W,(0,o.Uk)(" "+(0,s.zw)(Ee.name),1)])]),(0,o._)("div",U,[(0,o._)("div",z,[C,(0,o.Uk)(" "+(0,s.zw)(Ee.lastName),1)])]),(0,o._)("div",N,[(0,o._)("div",Z,[D,(0,o.Uk)(" "+(0,s.zw)(Ee.dni),1)])]),(0,o._)("div",V,[(0,o._)("div",S,[T,(0,o.Uk)(" "+(0,s.zw)(Ee.bornDate),1)])]),(0,o._)("div",H,[(0,o._)("div",F,[Q,(0,o.Uk)(" "+(0,s.zw)(Ee.typeBlood),1)])]),(0,o._)("div",G,[(0,o._)("div",B,[j,(0,o.Uk)(" "+(0,s.zw)(Ee.nacionality),1)])]),(0,o._)("div",Y,[(0,o._)("div",A,[1==Ee.gender?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[O,E],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[M,R],64))])]),(0,o._)("div",$,[(0,o._)("div",K,[J,(0,o.Uk)(" "+(0,s.zw)(Ee.phone),1)])]),(0,o._)("div",{class:(0,s.C_)(["q-mb-lg",{"col-6":$e.value,"col-8":!$e.value}])},[(0,o._)("div",L,[(0,o._)("p",X,[ee,(0,o.Uk)(" "+(0,s.zw)(Ee.groupName),1)])])],2)])])),_:1})):((0,o.wg)(),(0,o.j4)(c,{key:1,class:"my-card q-pa-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(Re,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Oe,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{color:"primary",label:"Enviar Inscripción",flat:"",onClick:Le})])),_:1})])),_:1}),(0,o.Wm)(Ke),(0,o.Wm)(Ke),(0,o._)("div",le,[(0,o._)("div",ae,[(0,o._)("div",oe,[se,(0,o.Wm)(d,{color:"confirmado"==Ee.status?"green":"espera"==Ee.status?"warning":"negative"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(Ee.status),1)])),_:1},8,["color"])])]),(0,o._)("div",te,[(0,o._)("div",ne,[ie,(0,o.Uk)(" "+(0,s.zw)(Ee.name),1)])]),(0,o._)("div",re,[(0,o._)("div",ce,[me,(0,o.Uk)(" "+(0,s.zw)(Ee.lastName),1)])]),(0,o._)("div",de,[(0,o._)("div",ue,[pe,(0,o.Uk)(" "+(0,s.zw)(Ee.dni),1)])]),(0,o._)("div",ge,[(0,o._)("div",_e,[ve,(0,o.Uk)(" "+(0,s.zw)(Ee.bornDate),1)])]),(0,o._)("div",we,[(0,o._)("div",he,[fe,(0,o.Uk)(" "+(0,s.zw)(Ee.typeBlood),1)])]),(0,o._)("div",be,[(0,o._)("div",ye,[xe,(0,o.Uk)(" "+(0,s.zw)(Ee.nacionality),1)])]),(0,o._)("div",ke,[(0,o._)("div",qe,[1==Ee.gender?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[Pe,Ie],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[We,Ue],64))])]),(0,o._)("div",ze,[(0,o._)("div",Ce,[Ne,(0,o.Uk)(" "+(0,s.zw)(Ee.phone),1)])]),(0,o._)("div",Ze,[(0,o._)("div",De,[Ve,(0,o.Wm)(al,{modelValue:Ee.group,"onUpdate:modelValue":n[3]||(n[3]=e=>Ee.group=e),class:"col-8","option-value":"id","emit-value":"","map-options":"",options:Je.value,label:"Grupo","option-label":"name"},null,8,["modelValue","options"])])]),(0,o._)("div",Se,[(0,o._)("div",Te,[(0,o.Wm)(d,{onClick:n[4]||(n[4]=e=>Ae.value=!0)},{default:(0,o.w5)((()=>[He])),_:1})])])])])),_:1}))],2),(0,o._)("div",{class:(0,s.C_)(["col-4",{hidden:$e.value}])},[(0,o.Wm)(c,{class:"my-card q-pa-md"},{default:(0,o.w5)((()=>[Fe,(0,o.Wm)(al,{options:Ye,modelValue:p.value,"onUpdate:modelValue":n[5]||(n[5]=e=>p.value=e),class:"q-mb-sm",style:{"max-width":"300px"}},null,8,["modelValue"]),(0,o.wy)((0,o.Wm)(tl,{onUploaded:ol,factory:el,style:{"max-width":"300px"},"field-name":"image","hide-upload-btn":$e.value,label:"Permiso - Tamaño maximo 2mb","max-file-size":"2097152"},null,8,["hide-upload-btn"]),[[t.F8,"Permiso"==p.value]]),(0,o.wy)((0,o.Wm)(tl,{onUploaded:ol,factory:ll,style:{"max-width":"300px"},"field-name":"image","hide-upload-btn":$e.value,color:"amber","max-file-size":"2097152",label:"Fotos - Tamaño maximo 2mb"},null,8,["hide-upload-btn"]),[[t.F8,"Fotos"==p.value]]),(0,o.wy)((0,o.Wm)(tl,{onUploaded:ol,factory:ll,style:{"max-width":"300px"},"field-name":"image","hide-upload-btn":$e.value,"max-file-size":"2097152",color:"amber",label:"Pago - Tamaño maximo 2mb"},null,8,["hide-upload-btn"]),[[t.F8,"Paga"==p.value]])])),_:1})],2),(0,o._)("div",Qe,[(0,o.wy)((0,o.Wm)(d,{color:"primary",class:"col-3",onClick:n[6]||(n[6]=e=>sl(Ee.imagePermission))},{default:(0,o.w5)((()=>[Ge])),_:1},512),[[t.F8,Ee.imagePermission]]),(0,o.wy)((0,o.Wm)(d,{color:"primary",class:"col-3",onClick:n[7]||(n[7]=e=>sl(Ee.imagePay))},{default:(0,o.w5)((()=>[Be])),_:1},512),[[t.F8,Ee.imagePay]]),(0,o.wy)((0,o.Wm)(d,{color:"primary",class:"col-3",onClick:n[8]||(n[8]=e=>sl(Ee.imagePhoto))},{default:(0,o.w5)((()=>[je])),_:1},512),[[t.F8,Ee.imagePhoto]])])])])],64)}}};var Ae=a(4260),Oe=a(6778),Ee=a(151),Me=a(5589),Re=a(4027),$e=a(9367),Ke=a(8240),Je=a(3414),Le=a(2035),Xe=a(5869),el=a(8516),ll=a(3768),al=a(677),ol=a(7518),sl=a.n(ol);const tl=(0,Ae.Z)(Ye,[["__scopeId","data-v-133d369e"]]),nl=tl;sl()(Ye,"components",{QDialog:Oe.Z,QCard:Ee.Z,QCardSection:Me.Z,QImg:Re.Z,QCardActions:$e.Z,QBtn:Ke.Z,QItem:Je.Z,QItemSection:Le.Z,QSeparator:Xe.Z,QSelect:el.Z,QUploader:ll.Z}),sl()(Ye,"directives",{ClosePopup:al.Z})}}]);