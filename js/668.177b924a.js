"use strict";(globalThis["webpackChunktesis_scout_front"]=globalThis["webpackChunktesis_scout_front"]||[]).push([[668],{2668:(e,l,a)=>{a.r(l),a.d(l,{default:()=>j});var o=a(3673),n=a(2323),t=a(9582),i=a(1959),s=a(9814),c=a(8825);const d=e=>((0,o.dD)("data-v-07f83c6a"),e=e(),(0,o.Cn)(),e),m={class:"q-pa-md row items-start q-gutter-md justify-center"},r={class:"col-12 text-center q-mb-none"},u={class:"col-md-12"},p={class:"q-pa-sm row"},g=(0,o.Uk)(" Agregar Reconocimiento "),w=d((()=>(0,o._)("div",{class:"text-h6"},"Alerta",-1))),v=(0,o.Uk)(" Â¿Estas seguro que deseas eliminar este reconcimiento? "),b={__name:"AdvancePlanEdit",setup(e){const l=(0,c.Z)(),a=(0,i.iH)(""),d=(0,t.yj)();console.log(d.params);const b=(0,i.iH)(!1),q=(0,i.qj)({tittle:"",description:""}),f=(0,i.qj)({recognitions:[]}),y=[];console.log(d.params);const _=(0,i.iH)(""),V=e=>{b.value=!0,_.value=e.id},k=async()=>{console.log(d.params.idAdvancePlan),console.log(_.value);const e=await s.Z.deleteRecognition(_.value,d.params.idAdvancePlan);e.success?(l.notify({type:"positive",message:"Reconocimiento eliminado correctamente"}),C()):l.notify({type:"error",message:e.message})},W=async()=>{l.loading.show();const e=await s.Z.put({tittle:q.tittle,description:q.description,recognitions:f.recognitions,advancePlanId:d.params.idAdvancePlan,itemDelete:y});e.success?(l.notify({type:"positive",message:"Plan de Adelanto actualziado correctamente"}),C()):l.notify({type:"error",message:e.message}),l.loading.hide()},h=(e,l)=>{e.name="";const a=l.map((e=>e.id)).indexOf(e.id);y.push(l[a].id),console.log(l[a]),-1!=a&&l.splice(a,1)},Z=e=>{e.push({id:Date.now(),name:""}),console.log(e)},C=()=>{s.Z.advancePlanItems(d.params.idAdvancePlan).then((e=>{console.log(e.advancePlan.Description),console.log(e.advancePlan.recognitions),q.description=e.advancePlan.Description,q.tittle=e.advancePlan.tittle,f.recognitions=e.advancePlan.recognitions,null!=f.recognitions[0]&&(console.log(f.recognitions[0].name),a.value=f.recognitions[0].id)}))},P=()=>{const e={name:"Ingresa un nombre...",topics:(0,i.iH)([]),id:Date.now()};f.recognitions.push(e),a.value=e.id};return C(),(e,l)=>{const t=(0,o.up)("q-input"),i=(0,o.up)("q-tab"),s=(0,o.up)("q-tabs"),c=(0,o.up)("q-separator"),d=(0,o.up)("q-icon"),y=(0,o.up)("q-btn"),_=(0,o.up)("q-tab-panel"),C=(0,o.up)("q-tab-panels"),Q=(0,o.up)("q-item-section"),x=(0,o.up)("q-item"),D=(0,o.up)("q-card"),U=(0,o.up)("q-card-section"),A=(0,o.up)("q-card-actions"),I=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",m,[(0,o._)("h5",r,(0,n.zw)(q.tittle),1),(0,o.Wm)(t,{modelValue:q.tittle,"onUpdate:modelValue":l[0]||(l[0]=e=>q.tittle=e),class:"col-12",outlined:"","bg-color":"grey-1"},null,8,["modelValue"]),(0,o.Wm)(t,{modelValue:q.description,"onUpdate:modelValue":l[1]||(l[1]=e=>q.description=e),class:"col-12",type:"textarea",outlined:"","bg-color":"grey-1"},null,8,["modelValue"]),(0,o._)("div",u,[(0,o.Wm)(D,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{modelValue:a.value,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value=e),"narrow-indicator":"",dense:"",align:"justify",class:"bg-grey-1"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.recognitions,(e=>((0,o.wg)(),(0,o.j4)(i,{label:e.name,class:"text-cyan",key:e.id,name:e.id},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(c),(0,o.Wm)(C,{modelValue:a.value,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value=e),animated:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.recognitions,(e=>((0,o.wg)(),(0,o.j4)(_,{key:e.id,name:e.id},{default:(0,o.w5)((()=>[(0,o.Wm)(t,{"bg-color":"yellow-2",modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,label:"Nombre del Reconocimiento",outlined:""},null,8,["modelValue","onUpdate:modelValue"]),(0,o._)("div",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.topics,(l=>((0,o.wg)(),(0,o.iD)("div",{class:"col-3 q-ma-xs",key:l.id},[(0,o.Wm)(t,{label:"Nombre del indicador",modelValue:l.name,"onUpdate:modelValue":e=>l.name=e,outlined:""},{append:(0,o.w5)((()=>[(0,o.Wm)(d,{name:"close",onClick:a=>h(l,e.topics),class:"cursor-pointer"},null,8,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])))),128))]),(0,o.Wm)(y,{class:"q-mt-sm center",color:"white","text-color":"black",label:"Eliminar Reconocimiento",onClick:l=>V(e)},null,8,["onClick"]),(0,o.Wm)(y,{class:"q-mt-sm center q-ml-md",color:"white","text-color":"black",label:"Agregar Indicador",onClick:l=>Z(e.topics)},null,8,["onClick"])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})]),(0,o.Wm)(y,{class:"q-mt-sm center",color:"white","text-color":"black",label:"Guardar",onClick:W}),(0,o.Wm)(y,{color:"primary",onClick:P,style:{position:"fixed",bottom:"50px"}},{default:(0,o.w5)((()=>[g])),_:1})]),(0,o.Wm)(I,{modelValue:b.value,"onUpdate:modelValue":l[4]||(l[4]=e=>b.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{style:{width:"300px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(U,null,{default:(0,o.w5)((()=>[w])),_:1}),(0,o.Wm)(U,{class:"q-pt-none"},{default:(0,o.w5)((()=>[v])),_:1}),(0,o.Wm)(A,{align:"right",class:"bg-white text-teal"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{flat:"",label:"Eliminar",onClick:k})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var q=a(4260),f=a(4842),y=a(151),_=a(3414),V=a(2035),k=a(7547),W=a(3269),h=a(5869),Z=a(5906),C=a(6602),P=a(4554),Q=a(8240),x=a(6778),D=a(5589),U=a(9367),A=a(7518),I=a.n(A);const H=(0,q.Z)(b,[["__scopeId","data-v-07f83c6a"]]),j=H;I()(b,"components",{QInput:f.Z,QCard:y.Z,QItem:_.Z,QItemSection:V.Z,QTabs:k.Z,QTab:W.Z,QSeparator:h.Z,QTabPanels:Z.Z,QTabPanel:C.Z,QIcon:P.Z,QBtn:Q.Z,QDialog:x.Z,QCardSection:D.Z,QCardActions:U.Z})}}]);