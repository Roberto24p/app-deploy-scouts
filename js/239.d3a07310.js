"use strict";(globalThis["webpackChunktesis_scout_front"]=globalThis["webpackChunktesis_scout_front"]||[]).push([[239],{6239:(e,l,a)=>{a.r(l),a.d(l,{default:()=>fe});var o=a(3673),t=a(2323),i=a(8880),n=a(1959),s=a(279),d=a(4332),c=a(2841);const r={class:"q-pa-md"},p={class:"row q-col-gutter-md q-mb-md"},u={class:"col-md-12 col-xs-12"},m=(0,o._)("p",{style:{"font-size":"20px"},class:"text-left"},"Busca por nombre, cédula, grupo o unidad",-1),_=(0,o._)("p",{style:{"font-size":"20px"}},"Reporte de inscripciones",-1),g=(0,o.Uk)("Actualizar"),v=(0,o.Uk)("Asociación de Scouts del Guayas"),w=(0,o.Uk)("Close"),f=(0,o._)("div",{class:"text-h6"},"Información de Inscirpion",-1),b={class:"q-gutter-md row justify-center"},h={class:"col-4"},y={class:"text-h5"},W=(0,o._)("strong",null," Nombre:",-1),k={class:"col-4"},x={class:"text-h5"},q=(0,o._)("strong",null," Apellido:",-1),U={class:"col-4"},V={class:"text-h5"},Z=(0,o._)("strong",null," Unidad:",-1),z={class:"col-4"},C={class:"text-h5"},Q=(0,o._)("strong",null," Grupo:",-1),I={class:"col-4"},T={class:"text-h5"},H=(0,o._)("strong",null," Fecha de Nacimiento:",-1),j={class:"col-4"},S={class:"text-h5"},A=(0,o._)("strong",null," Género:",-1),G={class:"col-4"},P={class:"text-h5"},B=(0,o._)("strong",null," Tipo de Sangre:",-1),N={class:"col-4"},D={class:"text-h5"},E=(0,o._)("strong",null," Teléfono:",-1),F={class:"col-4"},$={class:"text-h5"},M=(0,o._)("strong",null," Cédula:",-1),R=(0,o.Uk)("Ver Permiso "),Y=(0,o.Uk)("Ver Pago"),J=(0,o.Uk)("Ver Foto"),K=(0,o._)("div",{class:"text-h6"},"Imagen",-1),L=(0,o._)("div",{class:"absolute-top text-center"}," Paga ",-1),O={__name:"Inscription",setup(e){const l=[{name:"name",required:!0,label:"Nombre",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"dni",align:"center",label:"Cédula",field:e=>e.dni},{name:"group",align:"center",label:"Grupo",field:e=>e.group},{name:"type",label:"Unidad",align:"center",field:e=>e.type},{name:"state_inscription",label:"Estado",align:"center",field:e=>e.state_inscription},{name:"actions",label:"Acciones",align:"center",sortable:!0}],a=(0,n.qj)({name:"",group:"",type:"",state_inscription:"",observations:"",id:"",image_permissions:"",gender:"",born_date:"",image_pay:"",image_photo:"",type_blood:"",phone:"",dno:""}),O=(0,n.iH)(""),X=(0,n.iH)(!1),ee=["confirmado","espera","denegado"],le=(0,n.iH)(!1),ae=(0,n.iH)(""),oe=(0,n.iH)([]),te=(0,n.iH)([]),ie=(0,n.iH)(""),ne=e=>{le.value=!0,a.name=e.name,a.group=e.group,a.type=e.type,a.state_inscription=e.state_inscription,a.id=e.id,a.image_permissions=e.image_permission,a.image_pay=e.image_pay,a.image_photo=e.image_photo,a.born_date=e.born_date,a.type=e.type,a.gender=e.gender,a.type_blood=e.type_blood,a.phone=e.phone,a.dni=e.dni},se=()=>{s.Z.putInscription({id:a.id,state_inscription:a.state_inscription,observations:a.observations}).then((e=>{console.log(e),de(),le.value=!1}))},de=()=>{s.Z.getAllInscriptions(ie.value).then((e=>{oe.value=e.data}))},ce=e=>{console.log(e),ae.value=e,X.value=!0},re=async()=>{const e=await d.Z.all();te.value=e.data,null!=e.data[0]&&(ie.value=e.data[0].id),console.log(e)},pe=async()=>{de()};function ue(e,l,a){let o=void 0!==l?l(e,a):e;return o=void 0===o||null===o?"":String(o),o=o.split('"').join('""'),`"${o}"`}const me=()=>{const e=[l.map((e=>ue(e.label)))].concat(oe.value.map((e=>l.map((l=>ue("function"===typeof l.field?l.field(e):e[void 0===l.field?l.name:l.field],l.format,e))).join(",")))).join("\r\n");(0,c.Z)("table-export.csv",e,"text/csv")};return(0,o.YP)((()=>ie.value),pe),re(),(e,n)=>{const s=(0,o.up)("q-select"),d=(0,o.up)("q-card"),c=(0,o.up)("q-btn"),de=(0,o.up)("q-icon"),re=(0,o.up)("q-input"),pe=(0,o.up)("q-td"),ue=(0,o.up)("q-table"),_e=(0,o.up)("q-toolbar-title"),ge=(0,o.up)("q-space"),ve=(0,o.up)("q-tooltip"),we=(0,o.up)("q-bar"),fe=(0,o.up)("q-card-section"),be=(0,o.up)("q-card-actions"),he=(0,o.up)("q-img"),ye=(0,o.up)("q-dialog"),We=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",p,[(0,o._)("div",u,[(0,o.Wm)(d,{class:"my-card q-pa-lg"},{default:(0,o.w5)((()=>[m,(0,o.Wm)(s,{modelValue:ie.value,"onUpdate:modelValue":n[0]||(n[0]=e=>ie.value=e),options:te.value,"option-label":"description","option-value":"id","emit-value":"",label:"Selecciona un periodo","map-options":""},null,8,["modelValue","options"])])),_:1})])]),(0,o.Wm)(ue,{title:"Inscripciones",rows:oe.value,columns:l,"row-key":"name",filter:O.value},{"top-left":(0,o.w5)((()=>[_,(0,o.Wm)(c,{color:"primary","icon-right":"archive",label:"Export to csv","no-caps":"",onClick:me})])),"top-right":(0,o.w5)((()=>[(0,o.Wm)(re,{borderless:"",dense:"",debounce:"300",modelValue:O.value,"onUpdate:modelValue":n[1]||(n[1]=e=>O.value=e),placeholder:"Buscar..."},{append:(0,o.w5)((()=>[(0,o.Wm)(de,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-state_inscription":(0,o.w5)((e=>[(0,o.Wm)(pe,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{color:"confirmado"==e.row.state_inscription?"green":"espera"==e.row.state_inscription?"warning":"denegado"==e.row.state_inscription?"negative":"nada",class:"q-mx-sm"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.row.state_inscription),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-actions":(0,o.w5)((e=>[(0,o.Wm)(pe,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-mx-sm",onClick:l=>ne(e.row)},{default:(0,o.w5)((()=>[g])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"]),(0,o.Wm)(ye,{modelValue:le.value,"onUpdate:modelValue":n[9]||(n[9]=e=>le.value=e),persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"bg-white text-primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(we,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_e,null,{default:(0,o.w5)((()=>[v])),_:1}),(0,o.Wm)(ge),(0,o.wy)(((0,o.wg)(),(0,o.j4)(c,{dense:"",flat:"",icon:"close"},{default:(0,o.w5)((()=>[(0,o.Wm)(ve,{class:"bg-white text-primary"},{default:(0,o.w5)((()=>[w])),_:1})])),_:1})),[[We]])])),_:1}),(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[f])),_:1}),(0,o.Wm)(fe,{class:"col q-pt-none"},{default:(0,o.w5)((()=>[(0,o._)("div",b,[(0,o._)("div",h,[(0,o._)("div",y,[W,(0,o.Uk)(" "+(0,t.zw)(a.name),1)])]),(0,o._)("div",k,[(0,o._)("div",x,[q,(0,o.Uk)(" "+(0,t.zw)(a.name),1)])]),(0,o._)("div",U,[(0,o._)("div",V,[Z,(0,o.Uk)(" "+(0,t.zw)(a.type),1)])]),(0,o._)("div",z,[(0,o._)("div",C,[Q,(0,o.Uk)(" "+(0,t.zw)(a.group),1)])]),(0,o._)("div",I,[(0,o._)("div",T,[H,(0,o.Uk)(" "+(0,t.zw)(a.born_date),1)])]),(0,o._)("div",j,[(0,o._)("div",S,[A,(0,o.Uk)(" "+(0,t.zw)(1==a.gender?"Hombre":"Mujer"),1)])]),(0,o._)("div",G,[(0,o._)("div",P,[B,(0,o.Uk)(" "+(0,t.zw)(a.type_blood),1)])]),(0,o._)("div",N,[(0,o._)("div",D,[E,(0,o.Uk)(" "+(0,t.zw)(a.phone),1)])]),(0,o._)("div",F,[(0,o._)("div",$,[M,(0,o.Uk)(" "+(0,t.zw)(a.dni),1)])]),(0,o.Wm)(s,{style:{"text-transform":"capitalize"},class:"col-4",modelValue:a.state_inscription,"onUpdate:modelValue":n[2]||(n[2]=e=>a.state_inscription=e),options:ee},null,8,["modelValue"]),(0,o.Wm)(c,{class:"col-6",onClick:n[3]||(n[3]=e=>ce(a.image_permissions))},{default:(0,o.w5)((()=>[R])),_:1}),(0,o.Wm)(c,{class:"col-6",onClick:n[4]||(n[4]=e=>ce(a.image_pay))},{default:(0,o.w5)((()=>[Y])),_:1}),(0,o.Wm)(c,{class:"col-6",onClick:n[5]||(n[5]=e=>ce(a.image_photo))},{default:(0,o.w5)((()=>[J])),_:1}),(0,o.wy)((0,o._)("input",{type:"hidden","onUpdate:modelValue":n[6]||(n[6]=e=>a.id=e)},null,512),[[i.nr,a.id]]),(0,o.Wm)(re,{class:"col-8",modelValue:a.observations,"onUpdate:modelValue":n[7]||(n[7]=e=>a.observations=e),filled:"",type:"textarea",autogrow:"",label:"Ingresa una observación"},null,8,["modelValue"])])])),_:1}),(0,o.Wm)(be,{align:"right",class:"bg-white text-teal"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{flat:"",label:"Guardar",onClick:se})])),_:1}),(0,o.Uk)(" "+(0,t.zw)(e.scout),1)])),_:1}),(0,o.Wm)(ye,{modelValue:X.value,"onUpdate:modelValue":n[8]||(n[8]=e=>X.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{style:{width:"700px","max-width":"80vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[K])),_:1}),(0,o.Wm)(fe,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(he,{src:ae.value,"no-native-menu":""},{default:(0,o.w5)((()=>[L])),_:1},8,["src"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}};var X=a(151),ee=a(8516),le=a(3243),ae=a(8240),oe=a(4842),te=a(4554),ie=a(3884),ne=a(6778),se=a(846),de=a(3747),ce=a(2025),re=a(8870),pe=a(5589),ue=a(9367),me=a(4027),_e=a(677),ge=a(7518),ve=a.n(ge);const we=O,fe=we;ve()(O,"components",{QCard:X.Z,QSelect:ee.Z,QTable:le.Z,QBtn:ae.Z,QInput:oe.Z,QIcon:te.Z,QTd:ie.Z,QDialog:ne.Z,QBar:se.Z,QToolbarTitle:de.Z,QSpace:ce.Z,QTooltip:re.Z,QCardSection:pe.Z,QCardActions:ue.Z,QImg:me.Z}),ve()(O,"directives",{ClosePopup:_e.Z})}}]);