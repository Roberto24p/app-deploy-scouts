"use strict";(globalThis["webpackChunktesis_scout_front"]=globalThis["webpackChunktesis_scout_front"]||[]).push([[833],{9833:(e,l,a)=>{a.r(l),a.d(l,{default:()=>I});var t=a(3673),o=a(8880),d=a(4332),n=a(1959),i=a(279);const u={class:"q-pa-md"},s=(0,t.Uk)("Asociación de Scouts del Guayas"),c=(0,t.Uk)("Close"),r=(0,t._)("div",{class:"text-h6"},"Nuevo periodo",-1),m={class:"row justify-around"},p=(0,t._)("div",{class:"text-h6"},"Advertencia",-1),w=(0,t.Uk)(" ¿Estas seguro que deseas activar este periodo? "),_=(0,t._)("br",null,null,-1),f=(0,t.Uk)(" Recuerda que solo puedes tener un periodo activo "),W={__name:"Period",setup(e){const l=[{namel:"name",required:!0,label:"Descripción",align:"left",field:e=>e.description,format:e=>`${e}`,sortable:!0},{name:"date_start",align:"center",label:"Fecha de Inicio",field:"date_start"},{name:"date_end",label:"Fecha de Finalización",align:"center",field:"date_end"},{name:"actions",lable:"Acctiones"}],a=(0,n.iH)(!1),W=(0,n.iH)(!1),v=(0,n.iH)([]),b=(0,n.iH)(!1),g=(0,n.qj)({dateStart:"",dateEnd:"",description:"",id:"",price:""}),q=async()=>{const e=i.Z.store(g);console.log(e),h()},V=e=>{W.value=!0,g.dateEnd=e.date_end,g.dateStart=e.date_start,g.description=e.description,g.price=e.price,g.id=e.id,a.value=!1},y=()=>{i.Z.put(g.id,g).then((e=>{W.value=!1,console.log(e),h()}))},h=()=>{i.Z.get().then((e=>v.value=e.data))},Z=e=>{g.id=e.id,b.value=!0},k=async()=>{const e=await d.Z.activate(g.id);e.success&&h()};return h(),(e,d)=>{const n=(0,t.up)("q-btn"),i=(0,t.up)("q-td"),h=(0,t.up)("q-inner-loading"),Q=(0,t.up)("q-table"),C=(0,t.up)("q-toolbar-title"),x=(0,t.up)("q-space"),U=(0,t.up)("q-tooltip"),A=(0,t.up)("q-bar"),F=(0,t.up)("q-card-section"),S=(0,t.up)("q-date"),E=(0,t.up)("q-popup-proxy"),P=(0,t.up)("q-icon"),T=(0,t.up)("q-input"),D=(0,t.up)("q-form"),H=(0,t.up)("q-card-actions"),I=(0,t.up)("q-card"),j=(0,t.up)("q-dialog"),N=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",u,[(0,t.Wm)(n,{label:"Nuevo Periodo",color:"primary",class:"q-ma-md",onClick:d[0]||(d[0]=e=>{W.value=!0,a.value=!0})}),(0,t.Wm)(Q,{title:"Periodos",rows:v.value,columns:l,"row-key":"name",loading:e.loading},{"body-cell-actions":(0,t.w5)((e=>[(0,t.Wm)(i,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{color:"yellow",icon:"mode_edit",class:"q-mx-sm",onClick:l=>V(e.row)},null,8,["onClick"]),(0,t.wy)((0,t.Wm)(n,{color:"blue",label:"Activar",class:"q-mx-sm",onClick:l=>Z(e.row)},null,8,["onClick"]),[[o.F8,"Activo"!=e.row.state]]),(0,t.wy)((0,t.Wm)(n,{color:"green",icon:"done_all",label:"Activo",class:"q-mx-sm"},null,512),[[o.F8,"Activo"==e.row.state]])])),_:2},1032,["props"])])),loading:(0,t.w5)((()=>[(0,t.Wm)(h,{showing:"",color:"primary"})])),_:1},8,["rows","loading"])]),(0,t.Wm)(j,{modelValue:W.value,"onUpdate:modelValue":d[8]||(d[8]=e=>W.value=e),"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{style:{width:"700px","max-width":"80vw"}},{default:(0,t.w5)((()=>[(0,t.Wm)(A,{class:"bg-warning q-pa-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[s])),_:1}),(0,t.Wm)(x),(0,t.wy)(((0,t.wg)(),(0,t.j4)(n,{dense:"",flat:"",icon:"close"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{class:"bg-white text-primary"},{default:(0,t.w5)((()=>[c])),_:1})])),_:1})),[[N]])])),_:1}),(0,t.Wm)(F,null,{default:(0,t.w5)((()=>[r])),_:1}),(0,t.Wm)(F,{class:"col q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("input",{type:"hidden","onUpdate:modelValue":d[1]||(d[1]=e=>g.id=e)},null,512),[[o.nr,g.id]]),(0,t._)("div",m,[(0,t.Wm)(T,{class:"col-4",filled:"",label:"Inicio",modelValue:g.dateStart,"onUpdate:modelValue":d[3]||(d[3]=e=>g.dateStart=e),mask:"date",rules:["date"]},{append:(0,t.w5)((()=>[(0,t.Wm)(P,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(E,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,{modelValue:g.dateStart,"onUpdate:modelValue":d[2]||(d[2]=e=>g.dateStart=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(T,{class:"col-4",filled:"",modelValue:g.dateEnd,"onUpdate:modelValue":d[5]||(d[5]=e=>g.dateEnd=e),label:"Final",mask:"date",rules:["date"]},{append:(0,t.w5)((()=>[(0,t.Wm)(P,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(E,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,{modelValue:g.dateEnd,"onUpdate:modelValue":d[4]||(d[4]=e=>g.dateEnd=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(T,{class:"col-4 q-ml-lg",modelValue:g.description,"onUpdate:modelValue":d[6]||(d[6]=e=>g.description=e),filled:"",label:"Descripción"},null,8,["modelValue"]),(0,t.Wm)(T,{class:"col-4 q-ml-lg",modelValue:g.price,"onUpdate:modelValue":d[7]||(d[7]=e=>g.price=e),filled:"",label:"Precio $",type:"number"},null,8,["modelValue"])])])),_:1})])),_:1}),(0,t.Wm)(H,{align:"right",class:"bg-white text-teal"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(n,{flat:"",label:"Guardar",onClick:q},null,512),[[o.F8,a.value]]),(0,t.wy)((0,t.Wm)(n,{flat:"",label:"Actualizar",onClick:y},null,512),[[o.F8,!a.value]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(j,{modelValue:b.value,"onUpdate:modelValue":d[9]||(d[9]=e=>b.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{style:{width:"300px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(F,null,{default:(0,t.w5)((()=>[p])),_:1}),(0,t.Wm)(F,{class:"q-pt-none"},{default:(0,t.w5)((()=>[w,_,f])),_:1}),(0,t.Wm)(H,{align:"right",class:"bg-white text-teal"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(n,{flat:"",label:"Activar",onClick:k},null,512),[[N]]),(0,t.wy)((0,t.Wm)(n,{flat:"",label:"No"},null,512),[[N]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var v=a(8240),b=a(3243),g=a(3884),q=a(6941),V=a(6778),y=a(151),h=a(846),Z=a(3747),k=a(2025),Q=a(8870),C=a(5589),x=a(5269),U=a(4842),A=a(4554),F=a(3944),S=a(6915),E=a(9367),P=a(677),T=a(7518),D=a.n(T);const H=W,I=H;D()(W,"components",{QBtn:v.Z,QTable:b.Z,QTd:g.Z,QInnerLoading:q.Z,QDialog:V.Z,QCard:y.Z,QBar:h.Z,QToolbarTitle:Z.Z,QSpace:k.Z,QTooltip:Q.Z,QCardSection:C.Z,QForm:x.Z,QInput:U.Z,QIcon:A.Z,QPopupProxy:F.Z,QDate:S.Z,QCardActions:E.Z}),D()(W,"directives",{ClosePopup:P.Z})}}]);