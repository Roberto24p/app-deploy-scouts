"use strict";(globalThis["webpackChunktesis_scout_front"]=globalThis["webpackChunktesis_scout_front"]||[]).push([[874],{4874:(e,o,a)=>{a.r(o),a.d(o,{default:()=>Z});a(71),a(7965),a(6016);var t=a(3673),n=a(2323),i=a(4332);function s(e,o,a,n,i,s){const r=(0,t.up)("apexchart");return(0,t.wg)(),(0,t.j4)(r,{type:"bar",width:"380",options:i.chartOptions,series:i.series},null,8,["options","series"])}const r={name:"chartPeriodMoney",props:["period"],data(){return{series:[{name:"Inscripciones por Grupo",data:[]}],chartOptions:{chart:{height:350,type:"bar"},plotOptions:{bar:{borderRadius:10,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#304758"]},formatter:function(e){return`$${e}`}},xaxis:{categories:[],position:"",axisBorder:{show:!0},axisTicks:{show:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!1},labels:{show:!0}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(e){return`$${e}`}}},title:{text:"Inscritos por grupo",floating:!0,offsetY:330,align:"center",style:{color:"#444"}}}}},mounted:async function(){const e=localStorage.getItem("token"),o=await fetch(`http://157.245.142.215/api-scouts/public/api/graphicreport/periods/money/${this.period}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await o.json();this.series=[{data:a.size}],a.groups.forEach((e=>{this.chartOptions.xaxis.categories.push(e)}))}};var l=a(4260);const c=(0,l.Z)(r,[["render",s]]),p=c;var d=a(1959),u=a(52),m=a.n(u);const w={class:"q-pa-md"},g=(0,t.Uk)("Generar PDF "),h=(0,t._)("div",{class:"text-h6"},"Reporte de Ingresos",-1),f={__name:"inscriptionsReports",setup(e){const o=(0,d.iH)(!1),a=(0,d.iH)([]),s=(0,d.iH)(0),r=[{namel:"name",required:!0,label:"Descripción",align:"left",field:e=>e.description,format:e=>`${e}`,sortable:!0},{name:"date_start",align:"center",label:"Fecha de Inicio",field:"date_start"},{name:"date_end",label:"Fecha de Finalización",align:"center",field:"date_end"},{name:"state",label:"Estado",align:"center",field:"state"},{name:"actions",label:"Acciones",align:"center"}],l=async()=>{const e=await i.Z.all();e.success&&(a.value=e.data),console.log(e)},c=async e=>{const o=localStorage.getItem("token"),a=await m().get(`http://157.245.142.215/api-scouts/public/api/pdf/inscriptions/groups/${e}`,{responseType:"blob",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),t=window.URL.createObjectURL(new Blob([a.data],{type:"application/pdf"}));window.open(t,"_blank")},u=async e=>{o.value=!0,s.value=e};return l(),(e,i)=>{const l=(0,t.up)("q-btn"),d=(0,t.up)("q-td"),m=(0,t.up)("q-inner-loading"),f=(0,t.up)("q-table"),b=(0,t.up)("q-card-section"),y=(0,t.up)("q-card"),_=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",w,[(0,t.Wm)(f,{title:"Selecciona un periodo para generar un reporte",rows:a.value,columns:r,"row-key":"name",loading:e.loading},{"body-cell-actions":(0,t.w5)((e=>[(0,t.Wm)(d,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{color:"yellow",icon:"description",class:"q-mx-sm",onClick:o=>c(e.row.id)},{default:(0,t.w5)((()=>[g])),_:2},1032,["onClick"]),(0,t.Wm)(l,{color:"blue",icon:"paid",class:"q-mx-sm",onClick:o=>u(e.row.id)},null,8,["onClick"])])),_:2},1032,["props"])])),"body-cell-state":(0,t.w5)((e=>[(0,t.Wm)(d,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{color:"Activo"==e.row.state?"green":"grey-5",icon:"language",class:"q-mx-sm"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.row.state),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),loading:(0,t.w5)((()=>[(0,t.Wm)(m,{showing:"",color:"primary"})])),_:1},8,["rows","loading"])]),(0,t.Wm)(_,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{"full-width":""},{default:(0,t.w5)((()=>[(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[h])),_:1}),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)(p,{key:s.value,period:s.value},null,8,["period"]))])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var b=a(3243),y=a(3884),_=a(8240),k=a(6941),x=a(6778),v=a(151),q=a(5589),T=a(7518),W=a.n(T);const C=f,Z=C;W()(f,"components",{QTable:b.Z,QTd:y.Z,QBtn:_.Z,QInnerLoading:k.Z,QDialog:x.Z,QCard:v.Z,QCardSection:q.Z})}}]);