"use strict";(globalThis["webpackChunktesis_scout_front"]=globalThis["webpackChunktesis_scout_front"]||[]).push([[150],{9150:(e,l,a)=>{a.r(l),a.d(l,{default:()=>H});var t=a(3673),n=a(8880),o=a(2323),s=a(9582),i=a(9814),u=a(1959);const c={class:"col-md-3 col-sm-12"},d={class:"text-h6"},r=(0,t._)("div",{class:"text-h6"},"¿Desea desactivar el plan de Adelanto?",-1),m=(0,t._)("div",{class:"text-h6"},"¿Desea activar el plan de Adelanto?",-1),p={__name:"CardAdvancePlan",props:{tittle:String,description:String,img_url:String,route:Number,state:String},emits:["getAdvancesPlan"],setup(e,{emit:l}){const a=e,p=(0,u.iH)(!1),v=(0,u.iH)(!1),w=(0,s.tv)(),g=()=>{w.push({name:"advancePlanDetails",params:{idAdvancePlan:a.route}})},_=()=>{w.push({name:"AdvancePlanEdit",params:{idAdvancePlan:a.route}})},W=()=>{p.value=!0},b=async()=>{const e=await i.Z.disableAdvancePlan(a.route);e.success&&l("getAdvancesPlan"),console.log(e)},f=()=>{v.value=!0},y=async()=>{const e=await i.Z.enableAdvancePlan(a.route);e.success&&l("getAdvancesPlan")};return(l,a)=>{const s=(0,t.up)("q-card-section"),i=(0,t.up)("q-btn"),u=(0,t.up)("q-card-actions"),w=(0,t.up)("q-card"),h=(0,t.up)("q-dialog"),A=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",c,[(0,t.Wm)(w,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t._)("div",d,(0,o.zw)(e.tittle),1)])),_:1}),(0,t.Wm)(s,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.description),1)])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{flat:"",color:"dark",label:"Ver",onClick:g}),(0,t.Wm)(i,{flat:"",color:"primary",label:"Editar",onClick:_}),(0,t.wy)((0,t.Wm)(i,{flat:"",color:"primary",label:"Desactivar",onClick:W},null,512),[[n.F8,"A"==e.state]]),(0,t.wy)((0,t.Wm)(i,{flat:"",color:"primary",label:"Activar",onClick:f},null,512),[[n.F8,"A"!=e.state]]),(0,t.Wm)(i,{flat:"",color:"A"==e.state?"green-9":"blue-grey-5",label:"A"==e.state?"Activo":"Desactivado"},null,8,["color","label"])])),_:1})])),_:1})]),(0,t.Wm)(h,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{style:{width:"300px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[r])),_:1}),(0,t.Wm)(u,{align:"right",class:"bg-white text-teal"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(i,{flat:"",label:"Desactivar",onClick:b},null,512),[[A]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(h,{modelValue:v.value,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{style:{width:"300px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[m])),_:1}),(0,t.Wm)(u,{align:"right",class:"bg-white text-teal"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(i,{flat:"",label:"Activar",onClick:y},null,512),[[A]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var v=a(151),w=a(5589),g=a(9367),_=a(8240),W=a(6778),b=a(677),f=a(7518),y=a.n(f);const h=p,A=h;y()(p,"components",{QCard:v.Z,QCardSection:w.Z,QCardActions:g.Z,QBtn:_.Z,QDialog:W.Z}),y()(p,"directives",{ClosePopup:b.Z});var q=a(4940);const V={class:"q-pa-md row items-start q-gutter-md justify-center"},Z=(0,t._)("h5",{class:"col-12 text-center q-mb-none"},"Planes de Adelanto",-1),C={class:"col-md-3 col-sm-12"},P=(0,t._)("div",{class:"text-h6"},"Nuevo Plan de Adelanto",-1),k={__name:"AdvancePlan",setup(e){const l=(0,u.qj)({tittle:"",description:"",type:""}),a=(0,u.iH)([]),o=(0,u.iH)(!1),s=(0,u.iH)([]),c=async()=>{const e=await q.Z.showAll();s.value=e.ranges},d=async()=>{console.log(l.type);const e=await i.Z.store(l);e.success&&(r(),o.value=!1),console.log(e)},r=()=>{i.Z.get().then((e=>{console.log(e),a.value=e}))},m=()=>{o.value=!0};return r(),c(),(e,i)=>{const u=(0,t.up)("q-card-section"),c=(0,t.up)("q-btn"),p=(0,t.up)("q-card-actions"),v=(0,t.up)("q-card"),w=(0,t.up)("q-input"),g=(0,t.up)("q-select"),_=(0,t.up)("q-form"),W=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",V,[Z,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.value,(e=>((0,t.wg)(),(0,t.iD)("div",{class:"col-md-3 col-sm-12",key:e.id},[(0,t.Wm)(A,{tittle:e.tittle,description:e.Description,onGetAdvancesPlan:r,img_url:e.image,route:e.id,state:e.state},null,8,["tittle","description","img_url","route","state"])])))),128)),(0,t._)("div",C,[(0,t.Wm)(v,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(u),(0,t.Wm)(u,{class:"q-pt-none text-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{size:"35px",round:"",color:"teal",icon:"add",onClick:m})])),_:1}),(0,t.Wm)(p)])),_:1})])]),(0,t.Wm)(W,{modelValue:o.value,"onUpdate:modelValue":i[3]||(i[3]=e=>o.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{style:{width:"700px","max-width":"80vw"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[P])),_:1}),(0,t.Wm)(u,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{onSubmit:(0,n.iM)(d,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{modelValue:l.tittle,"onUpdate:modelValue":i[0]||(i[0]=e=>l.tittle=e),label:"Titulo","lazy-rules":"",rules:[e=>e&&e.length>0||"Escribe un nombre..."]},null,8,["modelValue","rules"]),(0,t.Wm)(w,{modelValue:l.description,"onUpdate:modelValue":i[1]||(i[1]=e=>l.description=e),label:"Descripción","lazy-rules":"",rules:[e=>e&&e.length>0||"Escribe una descripción..."]},null,8,["modelValue","rules"]),(0,t.Wm)(g,{label:"Selecciona un tipo de unidad","option-label":"name","option-value":"name","option-id":"name",modelValue:l.type,"onUpdate:modelValue":i[2]||(i[2]=e=>l.type=e),"emit-value":"","map-options":"",options:s.value},null,8,["modelValue","options"]),(0,t.Wm)(c,{class:"q-mt-md",label:"Guardar",type:"submit",color:"primary",style:{width:"100%"}})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var D=a(5269),Q=a(4842),x=a(8516);const S=k,H=S;y()(k,"components",{QCard:v.Z,QCardSection:w.Z,QBtn:_.Z,QCardActions:g.Z,QDialog:W.Z,QForm:D.Z,QInput:Q.Z,QSelect:x.Z})}}]);