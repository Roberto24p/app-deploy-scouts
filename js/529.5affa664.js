"use strict";(globalThis["webpackChunktesis_scout_front"]=globalThis["webpackChunktesis_scout_front"]||[]).push([[529],{6529:(l,e,a)=>{a.r(e),a.d(e,{default:()=>N});var o=a(3673),n=a(8880),t=a(1959),u=a(2323),i=a(228),d=a(386),s=a(78),m=a(2862);const c={class:"q-pa-md"},r=(0,o._)("span",{class:"q-ml-sm"},"Deseas eliminar el dirigente seleccionado?",-1),p=(0,o.Uk)("AsociaciÃ³n de Scouts del Guayas"),g=(0,o.Uk)("Close"),w=(0,o._)("div",{class:"text-h6"},"Nuevo Dirigente",-1),b={__name:"Directing",setup(l){const e=(0,m.U)(),a=[{name:"name",required:!0,label:"Nombre",align:"left",field:l=>l.name,format:l=>`${l}`,sortable:!0},{name:"last_Name",align:"left",label:"Apellido",field:"last_name",sortable:!0},{name:"age",align:"left",label:"Edad",field:l=>{const e=new Date(l.born_date).getFullYear(),a=(new Date).getFullYear();return a-e},sortable:!0},{name:"group_name",align:"left",label:"Grupo Scout",field:"group_name",sortable:!0},{name:"actions",label:"Acctiones"}],b=(0,t.iH)(!1),f=["+O","-O","+A","-A","-B","+B","-AB","+AB"],V=["1","0"],W=(0,t.iH)(!0),_=(0,t.iH)(!1),y=(0,t.iH)([]),v=(0,t.iH)([]),Z=(0,t.iH)([]),q=(0,t.qj)({name:"",unitId:"",lastName:"",dni:"",bornDate:"",typeBlood:"",phone:"",email:"",image:"",nacionality:"",groupId:"",gender:"",id:""});async function U(){const l=await s.Z.getUnitByGroup(q.groupId);Z.value=l}const h=async l=>{q.id=l,b.value=!0},Q=async()=>{const l=await i.Z.deleteDirecting(q.id);l.success&&A()},D=async l=>{const e=await i.Z.activateDirecting(l);e.success&&A()};async function k(){const l=await i.Z.create(q);console.log(l),A()}async function C(){const l={name:q.name,last_name:q.last_name,age:q.age,user_id:1,group_id:selectedGroup.value.id,unit_id:selectedUnit.value.id},e=await i.Z.update(q.id,l);console.log(e),selected.value=[],A()}const I=async()=>{const l=await d.Z.getGroups();v.value=l,console.log(l)};async function A(){const l=await i.Z.getDirectings();console.log(l),y.value=l}(0,o.wF)((()=>{A(),I()})),(0,o.YP)((()=>q.groupId),U);const S=(0,t.iH)(!1);return(l,i)=>{const d=(0,o.up)("q-btn"),s=(0,o.up)("q-td"),m=(0,o.up)("q-inner-loading"),I=(0,o.up)("q-table"),A=(0,o.up)("q-card-section"),B=(0,o.up)("q-card-actions"),F=(0,o.up)("q-card"),T=(0,o.up)("q-dialog"),G=(0,o.up)("q-toolbar-title"),H=(0,o.up)("q-space"),N=(0,o.up)("q-tooltip"),x=(0,o.up)("q-bar"),z=(0,o.up)("q-input"),E=(0,o.up)("q-select"),O=(0,o.up)("q-date"),P=(0,o.up)("q-popup-proxy"),Y=(0,o.up)("q-icon"),R=(0,o.up)("q-form"),j=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",c,[(0,o.Wm)(I,{title:"Dirigentes",rows:y.value,columns:a,"row-key":"name",loading:_.value},{"body-cell-actions":(0,o.w5)((l=>[(0,o.Wm)(s,{props:l},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(d,{color:"red",icon:"delete",onClick:e=>h(l.row.id)},null,8,["onClick"]),[[n.F8,"A"==l.row.state]]),(0,o.wy)((0,o.Wm)(d,{color:"yellow",icon:"add",onClick:e=>D(l.row.id)},null,8,["onClick"]),[[n.F8,"D"==l.row.state&&(1==(0,t.SU)(e).role||2==(0,t.SU)(e).role)]])])),_:2},1032,["props"])])),loading:(0,o.w5)((()=>[(0,o.Wm)(m,{showing:"",color:"primary"})])),_:1},8,["rows","loading"])]),(0,o.Wm)(T,{modelValue:b.value,"onUpdate:modelValue":i[0]||(i[0]=l=>b.value=l)},{default:(0,o.w5)((()=>[(0,o.Wm)(F,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A,{class:"row items-center"},{default:(0,o.w5)((()=>[r])),_:1}),(0,o.Wm)(B,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(d,{flat:"",label:"Cancelar",color:"primary"},null,512),[[j]]),(0,o.wy)((0,o.Wm)(d,{flat:"",label:"Eliminar",color:"primary",onClick:Q},null,512),[[j]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(T,{modelValue:S.value,"onUpdate:modelValue":i[14]||(i[14]=l=>S.value=l),persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{class:"bg-white text-primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(G,null,{default:(0,o.w5)((()=>[p])),_:1}),(0,o.Wm)(H),(0,o.wy)(((0,o.wg)(),(0,o.j4)(d,{dense:"",flat:"",icon:"close"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{class:"bg-white text-primary"},{default:(0,o.w5)((()=>[g])),_:1})])),_:1})),[[j]])])),_:1}),(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[w])),_:1}),(0,o.Wm)(A,{class:"col q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{onSubmit:l.onSubmit,onReset:l.onReset,class:"q-gutter-md row"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(z,{modelValue:q.id,"onUpdate:modelValue":i[1]||(i[1]=l=>q.id=l)},null,8,["modelValue"]),[[n.F8,!1]]),(0,o.Wm)(z,{class:"col-4",filled:"",modelValue:q.name,"onUpdate:modelValue":i[2]||(i[2]=l=>q.name=l),label:"Nombre","lazy-rules":"",rules:[l=>l&&l.length>0||"Obligatorio"]},null,8,["modelValue","rules"]),(0,o.Wm)(z,{class:"col-4",filled:"",modelValue:q.lastName,"onUpdate:modelValue":i[3]||(i[3]=l=>q.lastName=l),label:"Apellido","lazy-rules":"",rules:[l=>l&&l.length>0||"Obligatorio"]},null,8,["modelValue","rules"]),(0,o.Wm)(z,{class:"col-4",filled:"",modelValue:q.dni,"onUpdate:modelValue":i[4]||(i[4]=l=>q.dni=l),label:"Cedula"},null,8,["modelValue"]),(0,o.Wm)(E,{class:"col-4",filled:"",options:f,modelValue:q.typeBlood,"onUpdate:modelValue":i[5]||(i[5]=l=>q.typeBlood=l),label:"Tipo de Sangre"},null,8,["modelValue"]),(0,o.Wm)(E,{class:"col-4",filled:"",options:V,modelValue:q.gender,"onUpdate:modelValue":i[6]||(i[6]=l=>q.gender=l),label:"Genero"},null,8,["modelValue"]),(0,o.Wm)(z,{class:"col-4",filled:"",modelValue:q.phone,"onUpdate:modelValue":i[7]||(i[7]=l=>q.phone=l),label:"Telefono"},null,8,["modelValue"]),(0,o.Wm)(z,{class:"col-4",filled:"",modelValue:q.email,"onUpdate:modelValue":i[8]||(i[8]=l=>q.email=l),label:"Email"},null,8,["modelValue"]),(0,o.Wm)(z,{class:"col-4",filled:"",modelValue:q.nacionality,"onUpdate:modelValue":i[9]||(i[9]=l=>q.nacionality=l),label:"Nacionalidad"},null,8,["modelValue"]),(0,o.Wm)(z,{class:"col-4",filled:"",modelValue:q.bornDate,"onUpdate:modelValue":i[11]||(i[11]=l=>q.bornDate=l),mask:"date",rules:["date"]},{append:(0,o.w5)((()=>[(0,o.Wm)(Y,{name:"event",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(P,null,{default:(0,o.w5)((()=>[(0,o.Wm)(O,{modelValue:q.bornDate,"onUpdate:modelValue":i[10]||(i[10]=l=>q.bornDate=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(E,{class:"col-4","emit-value":"","map-options":"",modelValue:q.groupId,"onUpdate:modelValue":i[12]||(i[12]=l=>q.groupId=l),options:v.value,"option-value":"id","option-label":"name",onInput:U,label:"Elige Grupo"},null,8,["modelValue","options"]),(0,o.Wm)(E,{class:"col-4","emit-value":"","map-options":"",modelValue:q.unitId,"onUpdate:modelValue":i[13]||(i[13]=l=>q.unitId=l),options:Z.value,"option-value":"id","option-label":"name",label:"Elige Unidad"},null,8,["modelValue","options"])])),_:1},8,["onSubmit","onReset"])])),_:1}),(0,o.Uk)(" "+(0,u.zw)(q)+" ",1),(0,o.Wm)(B,{align:"right",class:"bg-white text-teal"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(d,{flat:"",label:"Guardar",onClick:k},null,512),[[j],[n.F8,W.value]]),(0,o.wy)((0,o.Wm)(d,{flat:"",label:"Actualizar",onClick:C},null,512),[[j],[n.F8,!W.value]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var f=a(8240),V=a(3243),W=a(3884),_=a(6941),y=a(6778),v=a(151),Z=a(5589),q=a(9367),U=a(846),h=a(3747),Q=a(2025),D=a(8870),k=a(5269),C=a(4842),I=a(8516),A=a(4554),S=a(3944),B=a(6915),F=a(677),T=a(7518),G=a.n(T);const H=b,N=H;G()(b,"components",{QBtn:f.Z,QTable:V.Z,QTd:W.Z,QInnerLoading:_.Z,QDialog:y.Z,QCard:v.Z,QCardSection:Z.Z,QCardActions:q.Z,QBar:U.Z,QToolbarTitle:h.Z,QSpace:Q.Z,QTooltip:D.Z,QForm:k.Z,QInput:C.Z,QSelect:I.Z,QIcon:A.Z,QPopupProxy:S.Z,QDate:B.Z}),G()(b,"directives",{ClosePopup:F.Z})}}]);